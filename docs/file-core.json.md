<div dir="rtl">

این فایل تنظیمات اولیه و کلی برنامه رو توصیف می‌کنه مثل لاگ ها و فایل های مورد نیاز و غیره

فایل json به صورت کلی این هست  که باید در کنار waterwall قرار بدید و تنظیمات داخل رو به دلخواه می‌توانید تغییر بدید

</div>

```json

{
    "log": {
        "path": "log/",
        "core": {
            "loglevel": "DEBUG",
            "file": "core.log",
            "console": true
        },
        "network": {
            "loglevel": "DEBUG",
            "file": "network.log",
            "console": true

        },
        "dns": {
            "loglevel": "SILENT",
            "file": "dns.log",
            "console": false

        }
    },
    "dns": {},
    "misc": {
        "workers": 0,
        "ram-profile": "server",
        "libs-path": "libs/"
    },
    "configs": [
        "config_name.json"
    ]
}

```

<div dir="rtl">


## بخش log

فیلد path به فولدری اشاره می‌کنه که فایل های لاگ داخل اون قرار خواهند گرفت ؛ اینجا ما گفتیم در همین مسیر کنونی یه پوشه به اسمlog بساز و فایل های لاگ را در آن قرار بده

سپس ۳ بخش هست core , network, dns

لاگ ها به ۳ بخش تقسیم شده که از اسم هاشون مشخصه ؛‌ لاگ های هسته در بخش core کنترل میشه و لاگ های شبکه در بخش network

پارامتر loglevel مشخص می‌کند چقدر لاگ می‌خواید؛ که مقدارش این مقادیر می‌تونه باشه

</div>

VERBOSE
DEBUG
INFO
WARN
ERROR
FATAL
SILENT

<div dir="rtl">

که همونطور که از اسم هاشون مشخصه ؛ اولی بیشترین لاگ و آخری هم هیچ چیزی لاگ نمی‌کنه

فیلد file هم اسم فایلی هست که لاگ های core رو در اون ذخیره میشه

و در حالت عادی شما فقط لاگ رو داخل فایل می‌خواید ؛ اگه می‌خواید لاگ core علاوه بر فایل در صفحه ssh هم نمایش داده بشه؛ که این خوبه و دیدنش به ما کمک می‌کنه پس مقدار console رو برابر true قرار میدیم


## بخش dns

فعلا این بخش تکمیل نشده ؛ در این بخش قرار تنظیمات Dns رو قرار بدید که برنامه ازش استفاده کنه برای مثلا adblock و اینجور چیز ها
ولی درحال حاضر چون تکمیل نشده ؛ از تنظیمات خود سیستم عامل پیروی می‌کنه

## بخش misc

- در پارامتر workers می‌تونید به صورت دستی تعداد ترد هارو مشخص کنید ؛ اگه صفر باشه به تعداد هسته ها ترد ساخته میشه
همچنین اگه بیشتر از تعداد هسته های سرور ترد ساخته بشه ؛ تاثیر منفی ایجاد نمیشه و مستقل عمل خواهند کرد اما خوب به صورت دیفالت به اندازه تعداد هسته ها کافی هست

نکته فنی: در حقیقت برنامه همیشه یه ترد جدا از این خواهد ساخت برای اینکه برای کار های سوکت و فایل و غیره ترد های شبکه درگیر نشند

- پارامتر ram-profile میزان مصرف رم برنامه رو کنترل میکنه

</div>

minimal - 
client - 
server

<div dir="rtl">

در حالت server به ازای هر ورکر حدود 40 مگابایت رم اشغال خواهد کرد و این مصرف cpu رو خیلی کاهش میده چون برنامه رم مورد نیازش رو یک بار در هنگام شروع گرفته

اما درحالت client برنامه رم رو کمتر مصرف میکنه ولی در عین حال مصرف cpu یه مقداری بیشتر میشه و این حالت برای وقتی که افراد زیادی استفاده نمیکنن
میتونه روی سرور هم باشه ؛ یا وقتی که رم کافی وجود نداره یا مثلا اگه واتروال رو روی سیستم شخصی موبایل یا لبتاب ران میکنید ؛ این گزینه پیشناهاد میشه

در این حالت بسته به تعداد ورکر ها بین ۲ تا ۱۰ مگابایت حداقل رم مصرفی خواهد بود

حالت minimal هم هست که اگه این حالت باشه کمترین میزان ممکن رم مصرف میشه ؛ در این حالت خود واتروال بدون حساب کردن لایبری هاش ؛ ۲۵۰ کیلوبایت رم میگیره در حالت عادی


ولی خوب درکل روی هر حالتی هم باشه محدود به مقدار حداکثر خاصی نیست ؛ بسته به میزان استفاده مصرف رمش هم کم و زیاد میشه


- پارامتر libs-path هم جزییات هست ومسیر لود نود ها خارج از هسته است؛ درصورتی که درون خود هسته پیدا نشن؛ چیز مهمی نیست تغییرش هم تاثیری نداره

## بخش config

اینجا فایل کانفیگی که هسته قراره اجراش کنه رو وارد می‌کنید؛ میتونید بی نهایت کانفیگ فایل اجرا کنید و در عین حال میتونید همه نود هارو داخل یه فایل هم قرار بدید

ولی خوب بهتره کانفیگ ها فایل هاشون جدا باشن تا منظم باشه مثلا اگه ۲ روش اجرا میکنید ۲ تا فایل باشن تا اینکه هردوتاشون تو یه فایل ریخته بشن

</div>